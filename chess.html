<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    body {
      background: #1a1a1a !important;
      color: #fff !important;
    }
  </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Play Chess Game</title>
    <link rel="icon" type="image/png" href="./assets/splogobare.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/splogoblack.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/splogoblack.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="./assets/splogoblack.png" />
    <link rel="shortcut icon" href="./assets/splogoblack.png" />
    <meta name="theme-color" content="#ff0000" />
    <meta name="msapplication-navbutton-color" content="#ff0000" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="stylesheet" href="./styles/indexstyles.css">
    <link rel="stylesheet" href="./styles/chessstyles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.12.0/chess.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <nav class="navbar">
    <div class="logo" onclick="window.location.href='index.html'" style="cursor: pointer;"><img src="./assets/splogobare.png" alt="Strategic Play Logo"></div>
    <div class="nav-toggle">â˜°</div>
    <ul class="nav-links">
      <li><a href="index.html" class="home-btn" style="font-weight:700; color:#ff0000; text-decoration:none; font-size:1.1rem;">Home</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle">Strategic Play</a>
        <ul class="dropdown-menu">
          <li><a href="index.html#origins">Origins</a></li>
          <li><a href="index.html#passes">Passes</a></li>
          <li><a href="index.html#mint">Mint</a></li>
          <li><a href="roadmap.html">Roadmap</a></li>
          <li><a href="index.html#vision">Vision (soon)</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle">GameHub</a>
        <ul class="dropdown-menu">
          <li><a href="./chess.html" target="_blank">Chess</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle">Web3 Tools</a>
        <ul class="dropdown-menu">
          <li><a href="https://www.gaiaecosystem.com/stake.html" target="_blank">Noncustodial Stake</a></li>
          <li><a href="https://www.nifftyswiggle.pw/airdrop" target="_blank">Token Airdrop</a></li>
          <li><a href="https://www.nifftyswiggle.pw/updatemetadata" target="_blank">Metadata Generator</a></li>
          <li><a href="https://www.nifftyswiggle.pw/nftgenerator" target="_blank">NFT Generator</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle">Discover More</a>
        <ul class="dropdown-menu">
          <li><a href="https://www.nifftyswiggle.pw/pixeldraw" target="_blank">Pixel Art</a></li>
          <li><a href="https://www.nifftyswiggle.pw/mpc" target="_blank">MPC</a></li>
        </ul>
      </li>
    </ul>
    <!--<button class="wallet-btn">Connect Wallet</button>-->
  </nav>
  <h1 class="text-4xl font-bold mb-4" style="margin-top:120px; text-align:center;">Strategic Play</h1>
  <button id="mute-sounds" class="mute-button">ðŸ”Š Sounds On</button>
  <div class="main-container">
    <div class="flex flex-col items-center">
      <div id="boardContainer">
        <div id="chessboard"></div>
      </div>
      <div id="gameInfo" class="bg-white p-4 rounded shadow">
        <p id="status" class="mb-2 font-semibold text-lg">Select a game mode to start</p>
        <p id="player-color" class="mb-2 text-base">Your Color: None</p>
        <p id="turn" class="mb-2 text-base">Turn: White</p>
        <p id="white-timer" class="mb-2 text-base">White <span id="white-player"></span>: 3:00</p>
        <p id="black-timer" class="mb-2 text-base">Black <span id="black-player"></span>: 3:00</p>
      </div>
    </div>
    <div class="flex flex-col gap-4">
      <div id="gameControls" class="bg-white p-4 rounded shadow">
        <h2 class="text-xl font-semibold mb-2">Game Modes</h2>
        <button id="game-lobby" class="bg-indigo-500 text-white px-4 py-2 rounded mb-2 w-full hover:bg-indigo-600">Game Lobby</button>
        <button id="online-multiplayer" class="bg-purple-500 text-white px-4 py-2 rounded mb-2 w-full hover:bg-purple-600">Create Game</button>
        <!--<button id="puzzle-mode" class="bg-yellow-500 text-white px-4 py-2 rounded mb-2 w-full hover:bg-yellow-600">Puzzle Mode</button>-->
        <button id="tournament" class="bg-red-500 text-white px-4 py-2 rounded w-full hover:bg-red-600">Create Tournament</button>
        <h2 class="text-xl font-semibold mb-2 mt-4">Piece Theme</h2>
        <select id="piece-theme" class="mb-2">
          <option value="standard" selected>Standard</option>
          <option value="custom">Origins</option>
          <option value="unicode">Unicode</option>
          <!--<option value="merida">Merida</option>-->
        </select>
        <button id="delete-game" class="bg-gray-500 text-white px-4 py-2 rounded w-full hover:bg-gray-600 hidden">Delete Game</button>
        <button id="show-history" class="bg-gray-500 text-white px-4 py-2 rounded w-full hover:bg-gray-600">Show Game History</button>
        <button id="forfeit-game" class="bg-red-500 text-white px-4 py-2 rounded w-full hover:bg-red-600 hidden">Forfeit Game</button>
      </div>
      <div id="tournamentInfo" class="bg-white p-4 rounded shadow hidden">
        <h2 class="text-xl font-semibold mb-2">Tournament Information</h2>
        <p id="tournamentStatus">No active tournament</p>
      </div>
    </div>
  </div>
  <!-- My creations: games and tournaments the user created -->
  <div id="my-creations" class="my-creations hidden">
    <div class="my-creations-inner">
      <h3 class="text-lg font-semibold mb-2">My Creations</h3>
      <div id="my-created-games" class="mb-2">
        <strong>Games I created</strong>
        <div id="created-games-list"></div>
      </div>
      <div id="my-created-tournaments">
        <strong>Tournaments I created</strong>
        <div id="created-tournaments-list"></div>
      </div>
      <button id="hide-my-creations" class="bg-gray-500 text-white px-4 py-2 rounded mt-2">Hide</button>
    </div>
  </div>
  <div id="promotionModal" class="modal-content">
    <h2 class="text-lg font-semibold mb-4">Promote Pawn</h2>
    <img src="./assets/origins/bQ.png" class="piece-option" data-piece="q" alt="Queen">
    <img src="./assets/origins/bR.png" class="piece-option" data-piece="r" alt="Rook">
    <img src="./assets/origins/bB.png" class="piece-option" data-piece="b" alt="Bishop">
    <img src="./assets/origins/bN.png" class="piece-option" data-piece="n" alt="Knight">
  </div>
  <div id="online-games-modal" class="modal-content">
    <h2 class="text-lg font-semibold mb-4">Online Games</h2>
    <label for="player-name" class="form-label">Set Your Name</label>
    <input id="player-name" type="text" placeholder="Enter name" class="mb-3">
    <button id="set-name" class="bg-gray-500 text-white px-4 py-2 rounded mb-2 w-full hover:bg-gray-600">Set Name</button>
    <label for="color-choice" class="form-label">Choose Your Color:</label>
    <select id="color-choice" class="mb-3">
      <option value="w">White</option>
      <option value="b">Black</option>
    </select>
    <label for="time-mode" class="form-label">Choose Time Mode:</label>
    <select id="time-mode" class="mb-3">
      <option value="none">No Timer</option>
      <option value="blitz">Blitz (3|0)</option>
      <option value="rapid">Rapid (5|2)</option>
      <option value="classical">Classical (10|5)</option>
      <option value="custom">Custom</option>
    </select>
    <div id="custom-time-inputs">
      <label for="custom-minutes" class="form-label">Minutes per Player</label>
      <input id="custom-minutes" type="number" placeholder="Minutes" min="1" value="5" class="mb-3">
      <label for="custom-increment" class="form-label">Increment (Seconds)</label>
      <input id="custom-increment" type="number" placeholder="Increment" min="0" value="0" class="mb-3">
    </div>
    <button id="create-game" class="bg-blue-500 text-white px-4 py-2 rounded mt-2 mb-2 w-full hover:bg-blue-600">Create New Game</button>
    <button id="close-online-modal" class="bg-gray-500 text-white px-4 py-2 rounded mt-4 w-full hover:bg-gray-600">Close</button>
  </div>
  <div id="game-lobby-modal" class="modal-content">
    <h2 class="text-lg font-semibold mb-4">Game Lobby</h2>
    <h3 class="text-md font-semibold mt-4">Available Games</h3>
    <div id="lobby-available-games" class="mt-2"></div>
    <h3 class="text-md font-semibold mt-4">Active Tournaments</h3>
    <div id="lobby-active-tournaments" class="mt-2"></div>
    <button id="close-lobby-modal" class="bg-gray-500 text-white px-4 py-2 rounded mt-4 w-full hover:bg-gray-600">Close</button>
  </div>
  <div id="create-tournament-modal" class="modal-content">
    <h2 class="text-lg font-semibold mb-4">Create Tournament</h2>
    <form id="create-tournament-form" class="mb-4">
      <label for="tournament-name" class="form-label">Tournament Name</label>
      <input type="text" id="tournament-name" placeholder="Enter tournament name" class="w-full p-2 mb-3 border rounded" required>
      <label for="rounds" class="form-label">Number of Rounds</label>
      <input type="number" id="rounds" placeholder="Enter number of rounds" class="w-full p-2 mb-3 border rounded" min="1" value="3" required>
      <label for="tournament-type" class="form-label">Tournament Type</label>
      <select id="tournament-type" class="w-full p-2 mb-3 border rounded">
        <option value="swiss">Swiss</option>
        <option value="roundrobin">Round Robin</option>
      </select>
      <label for="tournament-minutes" class="form-label">Minutes per Player</label>
      <input type="number" id="tournament-minutes" placeholder="Enter minutes per player" class="w-full p-2 mb-3 border rounded" min="0" value="10" required>
      <label for="tournament-increment" class="form-label">Increment (Seconds)</label>
      <input type="number" id="tournament-increment" placeholder="Enter increment in seconds" class="w-full p-2 mb-3 border rounded" min="0" value="0" required>
      <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded w-full hover:bg-red-600">Create Tournament</button>
    </form>
    <button id="close-tournament-modal" class="bg-gray-500 text-white px-4 py-2 rounded w-full hover:bg-gray-600">Close</button>
  </div>
  <div id="history-modal" class="modal-content">
    <h2 class="text-lg font-semibold mb-4">Game & Tournament History</h2>
    <div id="history-content" class="mb-4"></div>
    <button id="close-history-modal" class="bg-gray-500 text-white px-4 py-2 rounded w-full hover:bg-gray-600">Close</button>
  </div>
  <footer class="mt-8 text-center text-gray-400">
    <p>&copy; 2025 Strategic Play Chess Game</p>
    <p>Created by NifftySwiggle</p>
  </footer>
  <script src="./scripts/chessscript.js" defer></script>
  <script>
    // Favicon Theme Detection and Dynamic Change
    function updateFavicon() {
        const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const favicon = document.querySelector('link[rel="icon"]');
        const appleTouchIcon = document.querySelector('link[rel="apple-touch-icon"]');
        const androidIcon192 = document.querySelector('link[rel="icon"][sizes="192x192"]');
        const androidIcon512 = document.querySelector('link[rel="icon"][sizes="512x512"]');
        const shortcutIcon = document.querySelector('link[rel="shortcut icon"]');
        // Set favicon based on theme
        // For dark mode, use white/light logo; for light mode, use black/dark logo
        const iconPath = isDarkMode ? './assets/splogobare.png' : './assets/splogoblack.png';
        // Update all favicon types
        if (favicon) favicon.href = iconPath;
        if (appleTouchIcon) appleTouchIcon.href = iconPath;
        if (androidIcon192) androidIcon192.href = iconPath;
        if (androidIcon512) androidIcon512.href = iconPath;
        if (shortcutIcon) shortcutIcon.href = iconPath;
    }
    document.addEventListener('DOMContentLoaded', updateFavicon);
    if (window.matchMedia) {
        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        mediaQuery.addEventListener('change', updateFavicon);
        updateFavicon();
    }
    </script>
</body>
</html>


